
<div class="container-fluid user_update">
    <h1 style="text-align: center">Form cập nhập thông tin cá nhân của {{userDetail.taiKhoan}}</h1>

    <form  [formGroup]="updateUserForm"  class="form-container" (ngSubmit)="handleUpdate()">
        <!-- tài khoản  -->
       
        <mat-form-field appearance="fill">
            
            <mat-label>Tài khoản</mat-label>
            <input matInput formControlName="taiKhoan">
            <mat-icon matSuffix>
                <span class="material-icons">
                    assignment_ind
                    </span>
            </mat-icon>
            
            <mat-error *ngIf="updateUserForm.get('taiKhoan')?.invalid">
                <span *ngIf="updateUserForm.get('taiKhoan')?.errors?.required">
                    Tài khoản không được để trống
                </span>
                <span *ngIf="updateUserForm.get('taiKhoan')?.errors?.minlength || updateUserForm.get('taiKhoan')?.errors?.maxlength">
                    Tài khoản phải từ 3 đến 20 kí tự
                </span>
            </mat-error>
            <!-- <pre>{{taiKhoan.errors | json}}</pre> -->
            <!-- <div *ngIf="taiKhoan.invalid && (taiKhoan.dirty || taiKhoan.touched)">
                Tài khoản không được bỏ trống
            </div> -->
        </mat-form-field>
        <!-- mật khẩu  -->
        
        <mat-form-field appearance="fill">
                <mat-label>Mật Khẩu</mat-label>
                <input type="password" matInput formControlName="matKhau">
                <mat-icon matSuffix>
                    <span class="material-icons">
                        lock
                        </span>
                </mat-icon>
                <mat-error *ngIf="updateUserForm.get('matKhau')?.invalid">
                    <span *ngIf="updateUserForm.get('matKhau')?.errors?.required">
                        Mật khẩu không được để trống
                    </span>
                    <span *ngIf="updateUserForm.get('matKhau')?.errors?.minlength">
                        Mật khẩu phải lớn hơn 3 ký tự
                    </span>
        
                </mat-error>
        </mat-form-field>
    
        <!-- Email  -->
        <mat-form-field appearance="fill">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email"/>
            <mat-icon matSuffix> 
                <span class="material-icons">
                    email
                    </span>
            </mat-icon>      
            <mat-error *ngIf="updateUserForm.get('email')?.invalid">
                <span *ngIf="updateUserForm.get('email')?.errors?.required">
                    Email không được để trống
                </span>
                <span *ngIf="updateUserForm.get('email')?.errors?.pattern">
                    Email không đúng định dạng
                </span>
    
            </mat-error>
        </mat-form-field>
    
        <!-- họ Tên  -->
        <mat-form-field appearance="fill">
            <mat-label>Họ tên</mat-label>
            <input matInput formControlName="hoTen">
            <mat-icon matSuffix>
                <span class="material-icons">
                    face
                    </span>
            </mat-icon>
            <mat-error *ngIf="updateUserForm.get('hoTen')?.invalid">
                <span *ngIf="updateUserForm.get('hoTen')?.errors?.required">
                    Họ tên không được để trống
                </span>
    
            </mat-error>
        </mat-form-field>
    
        <!-- Số điện thoại  -->
        <mat-form-field appearance="fill">
            <mat-label>Số điện thoại</mat-label>
            <input matInput formControlName="soDt" >
            <mat-icon matSuffix>
                <span class="material-icons">
                    perm_phone_msg
                    </span>
            </mat-icon>
            <mat-error *ngIf="updateUserForm.get('soDt')?.invalid">
                <span *ngIf="updateUserForm.get('soDt')?.errors?.required">
                    Số điện thoại không được để trống
                </span>
                
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Mã loại người dùng</mat-label>
            <input matInput formControlName="maLoaiNguoiDung">
            <mat-icon matSuffix>
                <span class="material-icons">
                    face
                    </span>
            </mat-icon>
            <mat-error *ngIf="updateUserForm.get('maLoaiNguoiDung')?.invalid">
                <span *ngIf="updateUserForm.get('maLoaiNguoiDung')?.errors?.required">
                    Họ tên không được để trống
                </span>
    
            </mat-error>
        </mat-form-field>
    
        <!-- <button [disabled]="signupForm.invalid">Submit</button> -->
        <button mat-raised-button color="accent" >Cập nhật</button>
        <p *ngIf="errors" class="alert alert-danger" >
            {{errors?.error}}
        </p>
    </form>
</div>

<div class="modal-succcess">
    <div class="text-center">
        <!-- Button HTML (to Trigger Modal) -->
        <a #myDiv href="#myModal" class="trigger-btn" data-toggle="modal" id="modal-trigger">Click to Open Confirm Modal</a>
    </div>
    
    <!-- Modal HTML -->
    <div id="myModal" class="modal fade"> 
        <div class="modal-dialog modal-confirm modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="icon-box">
                        <i class="material-icons">offline_pin</i>
                    </div>				
                    <h4 class="modal-title">Awesome!</h4>	
                </div>

                <div class="modal-body">
                    <p class="text-center">Chúc mừng bạn đã update thông tin cá nhân thành công</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success btn-block" data-dismiss="modal" routerLink="/admin/users" >OK</button>
                </div>
             
            </div>
        </div>
    </div>    
</div>